/*!
 * jQuery-TOC
 * Table of Contents Generator Plugin for (non-)jQuery
 * 
 * @author Dolphin Wood <dolphin.w.e@gmail.com>
 * @version 0.0.6
 * Copyright 2015. MIT licensed.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){"use strict";var n=function(e){if("string"!=typeof e)return 0;var n=e.match(/\d/g);return n?Math.min.apply(null,n):1},t=function(t){var r=t.selector,o=t.scope,i=e("<ol/>"),c=i,a=null,f=n(r),u=function(e,n){return function(t,r,o){var i=t.text(),c=n+"-"+o;r.text(i);var a=t[0],f=r[0],u=e?c:a.id||c;u=encodeURIComponent(u),a.id=u,f.href="#"+u}}(t.overwrite,t.prefix);return e(o).find(r).each((function(t,r){var o=n(r.tagName),p=o-f;p>0&&(c=function(n,t){for(;t--;)n=e("<ol/>").appendTo(n),t&&(n=e("<li/>").appendTo(n));return n}(a,p)),p<0&&(c=function(e,n){for(;n--;)e=e.parent();return e}(c,2*-p)),c.length||(c=i);var s=e("<li/>"),l=e("<a/>");u(e(r),l,t),s.append(l).appendTo(c),a=s,f=o})),i};e.fn.initTOC=function(n){var r=(n=e.extend({selector:"h1, h2, h3, h4, h5, h6",scope:"body",overwrite:!1,prefix:"toc"},n)).selector;if("string"!=typeof r)throw new TypeError("selector must be a string");if(!r.match(/^(?:h[1-6],?\s*)+$/g))throw new TypeError("selector must contains only h1-6");e(this).append(t(n));var o=location.hash;return o&&setTimeout((function(){var e=document.getElementById(o.slice(1));e&&e.scrollIntoView()}),0),e(this)}}));